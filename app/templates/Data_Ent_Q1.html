<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Ideal Adventure</title> 
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<header class="header">
    <a href="index.html" class="hamburger">&#9776;</a>
    <img src="{{ url_for('static', filename='images/explorer.png') }}" alt="Logo" class="logo">
</header>
<nav>
    <div class="title-bar">
        <h1>Adventure 1</h1>
    </div>
</nav>
<body>
    <div class="container_yaaa">
        
        <div class="content-box">
            <div class="question">What climate do you like?</div>
            
            <div class="buttons-container">
                <button class="climate-button">Hot</button>
                <button class="climate-button">Cold</button>
                <button class="climate-button">Tropical</button>
            </div>
            
            <img src="https://i.postimg.cc/NjhF7F5L/Gemini-Generated-Image-gw1crzgw1crzgw1c-1.png" alt="Climate Options" class="climate-image">
        </div>
    </div>
    <div class="container">
        <div class="row align-items-center">
            <div class="col-3 ps-0 text-end">
                <button id="prev-button" class="next-button" style="width: 100%; display: none;">Previous</button>
            </div>
            <div class="col-6">
                <!-- Standard Bootstrap Progress Bar -->
                <div class="progress" style="height: 25px;">
                    <div id="progress-bar" class="progress-bar progress-bar-striped progress-bar-animated bg-info" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">20%</div>
                </div>
            </div>
            <div class="col-3 ps-0 text-end">
                <button id="next-button" class="next-button" style="width: 100%;">Next</button>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        let progressPercentage = 20; // Initial progress percentage
        const progressBar = document.getElementById('progress-bar');
        const nextButton = document.getElementById('next-button');
        const prevButton = document.getElementById('prev-button');
        const buttonsContainer = document.querySelector('.buttons-container');
        const contentBox = document.querySelector('.content-box');
        
        // New content sets
        const questions = [
            {
                question: 'What climate do you like?',
                options: ['Hot', 'Cold', 'Tropical'],
                image: 'https://i.postimg.cc/NjhF7F5L/Gemini-Generated-Image-gw1crzgw1crzgw1c-1.png'
            },
            {
                question: 'Choose your interest!',
                options: ['Nature', 'Outback', 'Beaches'],
                image: 'https://i.postimg.cc/8cz8shWq/accommodation-image.png'
            },
            {
                question: 'Choose your scenery!',
                options: ['Wildlife', 'Mountain', 'Coastal/Scenic Drive'],
                image: 'https://i.postimg.cc/jdD8PFL9/activities-image.png'
            },
            {
                question: 'Choose your activities!',
                options: ['Adventure', 'Family', 'Sports'],
                image: 'https://i.postimg.cc/jdD8PFL9/activities-image.png'
            },
            {
                question: 'Anything interest you?',
                options: ['Heritage', 'Art', 'Landmarks'],
                image: 'https://i.postimg.cc/jdD8PFL9/activities-image.png'
            }
        ];
    
        let currentQuestionIndex = 0;

        // Function to update the content box
        function updateContent() {
            const currentQuestion = questions[currentQuestionIndex];
            
            // Update the question and options
            contentBox.querySelector('.question').textContent = currentQuestion.question;
            buttonsContainer.innerHTML = '';
            currentQuestion.options.forEach(option => {
                const button = document.createElement('button');
                button.classList.add('climate-button');
                button.textContent = option;
                button.addEventListener('click', () => {
                    // If the button already has the "pressed" class, remove it
                    if (button.classList.contains('pressed')) {
                        button.classList.remove('pressed');
                    } else {
                        // Otherwise, remove "pressed" from all buttons and add it to the clicked one
                        document.querySelectorAll('.climate-button').forEach(btn => btn.classList.remove('pressed'));
                        button.classList.add('pressed');
    }
                });
                buttonsContainer.appendChild(button);
            });
            
            // Update the image
            const image = contentBox.querySelector('.climate-image');
            image.src = currentQuestion.image;

            // Update the Next button to Finish on the last question
            if (currentQuestionIndex === questions.length - 1) {
                nextButton.textContent = 'Finish';
                nextButton.removeEventListener('click', nextButtonHandler);  // Remove previous next button event
                nextButton.addEventListener('click', finishButtonHandler);  // Add finish button event
            } else {
                nextButton.textContent = 'Next';
                nextButton.removeEventListener('click', finishButtonHandler);  // Remove finish button event
                nextButton.addEventListener('click', nextButtonHandler);  // Add next button event
            }
        }

        // Next button handler
        function nextButtonHandler() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                updateContent();  // Change content
                updateProgress(20); // Increase progress
            }
        }

        // Finish button handler
        function finishButtonHandler() {
            window.location.href = "ideal_trip.html";  // Redirect to a "Thank You" or other page
        }

        // Previous button handler
        prevButton.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                updateContent();  // Change content
                updateProgress(-20); // Decrease progress
            }
        });

        // Update progress bar and button layout
        function updateProgress(increment) {
            // Update progress percentage
            progressPercentage += increment;
            if (progressPercentage < 0) progressPercentage = 0;
            if (progressPercentage > 100) progressPercentage = 100;

            // Update progress bar width and text
            progressBar.style.width = progressPercentage + '%';
            progressBar.textContent = progressPercentage + '%';

            // Show/Hide Previous Button
            if (progressPercentage > 20) {
                prevButton.style.display = 'inline-block';
            } else {
                prevButton.style.display = 'none';
            }
        }

        // Add event listener for the next button (initially)
        nextButton.addEventListener('click', nextButtonHandler);

        // Initialize with the first question
        updateContent();
    </script>
    
    
</body>
<footer>
    
    <div class="footer">
        &copy; 2025 Explorate
    </div>
</footer>
</html>

